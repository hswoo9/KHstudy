## 네트워크

### 1. 네트워크(Network)
* 네트워크는 여러 대의 컴퓨터를 통신 회선으로 연결한 것을 말한다. (홈 네트워크, 지역 네트워크, 인터넷 등)
#### 1.1. 서버(Server)와 클라이언트(Client)
* 네트워크로 연결된 컴퓨터 간의 관계를 역할로 구분한 개념이다.
* 인터넷에서 두 프로그램이 통신하기 위해서는 연결을 요청하는 역할과 연결을 수락하는 역할이 필요하다.
* 서버(Server)는 서비스를 제공하는 프로그램으로 클라이언트의 연결을 수락하고 요청 내용을 처리 후 응답을 보내는 역할을 한다.
* 클라이언트(Client)는 서버로부터 서비스를 제공받는 역할을 한다. 
* 클라이언트가 요청(Request)하는 내용을 서버에서 처리하고 응답(Response)을 클라이언트로 보낸다.
#### 1.2. IP 주소(Address)
* 네트워크 상에서 컴퓨터를 식별하는 번호가 IP 주소이다.
* IP 주소는 네트워크 어댑터(Lan 카드)마다 할당이 된다. 
* IP 주소는 xxx.xxx.xxx.xxx와 같은 형식으로 표현된다. (xxx는 부호 없는 0 ~ 255 사이의 정수이다.)
* DNS(Domain Name System)를 통해 해당 도메인의 IP 주소를 알아낼 수 있다.
#### 1.2. 포트(Port)
* IP 주소는 네트워크 상에서 컴퓨터를 찾을 때만 사용하고 컴퓨터 내에서 실행하는 프로그램을 선택하기 위해 포트(Port)를 사용한다.
* 서버는 서버를 시작할 때 포트 번호를 가지고 서버를 실행한다.
* 클라이언트는 서버 연결 요청 시 IP 주소와 포트 번호를 알고 있어야 한다.
* 포트는 0 ~ 65535까지의 범위를 갖는다. 
### 2. InetAddress 클래스
* IP 주소를 다루기 위해 자바에서 제공하는 클래스이다.
  |리턴 타입|메소드|설명|
  |:--:|--|--|
  |byte[]|getAddress()|IP 주소를 byte 배열로 리턴한다.|
  |InetAddress[]|getAllByName(String host)|도메인 명에 지정된 모든 호스트의 IP 주소를 배열에 담아서 리턴한다.|
  |InetAddress|getByAddress(byte[] addr)|byte 배열을 통해 IP 주소를 리턴한다.|
  |InetAddress|getByName(String host)|도메인 명을 통해 IP 주소를 리턴한다.|
  |String|getCanonicaHostName()|FQDN(Full Qualified Domain Name)을 리턴한다.|
  |String|getHostAddress()|호스트의 IP 주소를 리턴한다.|
  |String|getHostName()|호스트의 이름을 리턴한다.|
  |InetAddress|getLocalHost()|지역 호스트의 IP 주소를 리턴한다.|
  |boolean|isMulticastAddress()|IP 주소가 멀티캐스트 주소인지 확인한다.|
  |boolean|isLoopbackAddress()|IP 주소가 loopback 주소(127.0.0.1)인지 확인한다.|
### 3. 소켓(Socket) 프로그래밍
#### 3.1. 소켓(Socket)
* 소켓(Socket)은 네트워크 상에서 서버 프로그램과 클라이언트 프로그램 사이의 통신이 가능하도록 하는 도구이다.
#### 3.2. TCP(Transmission Control Protocol)
* 데이터 전송 속도가 느리지만 정확하고 안정적으로 전달할 수 있는 연결 지향적 프로토콜이다.
* 클라이언트가 연결을 요청하고 서버가 연결을 수락하면 연결된 클라이언트와 서버가 통신을 시작한다.
#### 3.2. UDP(User Datagram Protocol)
* 데이터 전송 속도가 빠르지만 신뢰성 없는 데이터를 전송하는 비연결 지향적 프로토콜이다.
* 데이터를 주고받을 때 연결 절차를 거치지 않고 발신자가 일방적으로 데이터를 발신하는 방식이다.
* 데이터 전달의 신뢰성보다는 속도가 중요한 프로그램에서는 UDP를 사용하고 데이터 전달의 신뢰성이 중요한 프로그램에서는 TCP를 사용한다.
### 4. TCP 소켓 프로그래밍
* 자바에서는 TCP 소켓 프로그래밍을 위해 java.net.ServerSocket과 java.net.Socket 클래스를 제공한다.
* 서버용 프로그램과 클라이언트용 프로그램을 따로 구현해야 한다.
* 클라이언트의 Scoket에서 연결을 요청해오면 ServerSocket은 연결을 수락하고 통신용 Socket을 만든다.
* 클라이언트가 요청하고 서버가 요청을 수락하면 Socket 객체로부터 입/출력 스트림을 얻어 데이터를 주고받을 수 있다.
<br><br><img src="https://user-images.githubusercontent.com/26870393/163665328-0227cca9-6c44-4afe-8fdc-3796a0658bca.png" width="700px"/><br>
#### 4.1. 서버용 TCP 소켓 프로그래밍 순서
* 서버의 포트 번호 정한다.
* 서버용 소켓 객체를 생성한다.
* 클라이언트에서 접속 요청이 올 때까지 기다린다.
* 클라이언트로부터 접속 요청이 오면 요청 수락 후 해당 클라이언트와 연결된 소켓 객체 생성한다.
* 연결된 클라이언트와 입출력 스트림 생성한다.
* 보조 스트림을 통해 스트림의 성능을 개선한다.
* 스트림을 통해 데이터를 읽고 쓴다.
* 통신을 종료한다.
#### 4.1. 클라이언트용 TCP 소켓 프로그래밍 순서
* 서버의 IP 주소와 포트 번호로 클라이언트용 소켓 객체를 생성한다.
* 서버와 연결된 입출력 스트림을 생성한다.
* 보조 스트림을 통해 스트림의 성능을 개선한다.
* 스트림을 통해 데이터를 읽고 쓴다.
* 통신을 종료한다.



